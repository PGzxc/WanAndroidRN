"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useMenuTrigger = useMenuTrigger;

var _menu = require("@react-aria/menu");

var _utils = require("@react-native-aria/utils");

/**
 * Provides the behavior and accessibility implementation for a menu trigger.
 * @param props - Props for the menu trigger.
 * @param state - State for the menu trigger.
 */
function useMenuTrigger(props, state, ref) {
  let params = (0, _menu.useMenuTrigger)(props, state, ref); // onKeyDown is not supported in Pressable so used onKeyDownCapture instead!
  // https://github.com/necolas/react-native-web/issues/1862
  //@ts-ignore

  params.menuTriggerProps.onKeyDownCapture = params.menuTriggerProps.onKeyDown;
  params.menuTriggerProps.onKeyDown = undefined; // Todo - Debug - onPressStart doesn't work after these steps.
  // 1. Use mouse clicks to open the trigger.
  // 2. Try opening using spacebar/enter

  params.menuTriggerProps.onPressStart = () => {};

  params.menuTriggerProps.onPress = () => state.toggle('first');

  params.menuProps = (0, _utils.mapDomPropsToRN)(params.menuProps);
  params.menuTriggerProps = (0, _utils.mapDomPropsToRN)(params.menuTriggerProps); // @ts-ignore - Get types for Universal apps

  params.menuTriggerProps.accessibilityRole = 'button';
  return params;
}
//# sourceMappingURL=useMenuTrigger.web.js.map