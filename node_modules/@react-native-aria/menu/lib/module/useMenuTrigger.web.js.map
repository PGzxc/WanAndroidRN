{"version":3,"sources":["useMenuTrigger.web.ts"],"names":["useMenuTrigger","useMenuTriggerWeb","mapDomPropsToRN","props","state","ref","params","menuTriggerProps","onKeyDownCapture","onKeyDown","undefined","onPressStart","onPress","toggle","menuProps","accessibilityRole"],"mappings":"AAEA,SAASA,cAAc,IAAIC,iBAA3B,QAAoD,kBAApD;AACA,SAASC,eAAT,QAAgC,0BAAhC;;AAeA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASF,cAAT,CACLG,KADK,EAELC,KAFK,EAGLC,GAHK,EAIY;AACjB,MAAIC,MAAM,GAAGL,iBAAiB,CAACE,KAAD,EAAQC,KAAR,EAAeC,GAAf,CAA9B,CADiB,CAGjB;AACA;AACA;;AACAC,EAAAA,MAAM,CAACC,gBAAP,CAAwBC,gBAAxB,GAA2CF,MAAM,CAACC,gBAAP,CAAwBE,SAAnE;AACAH,EAAAA,MAAM,CAACC,gBAAP,CAAwBE,SAAxB,GAAoCC,SAApC,CAPiB,CASjB;AACA;AACA;;AACAJ,EAAAA,MAAM,CAACC,gBAAP,CAAwBI,YAAxB,GAAuC,MAAM,CAAE,CAA/C;;AACAL,EAAAA,MAAM,CAACC,gBAAP,CAAwBK,OAAxB,GAAkC,MAAMR,KAAK,CAACS,MAAN,CAAa,OAAb,CAAxC;;AAEAP,EAAAA,MAAM,CAACQ,SAAP,GAAmBZ,eAAe,CAACI,MAAM,CAACQ,SAAR,CAAlC;AACAR,EAAAA,MAAM,CAACC,gBAAP,GAA0BL,eAAe,CAACI,MAAM,CAACC,gBAAR,CAAzC,CAhBiB,CAiBjB;;AACAD,EAAAA,MAAM,CAACC,gBAAP,CAAwBQ,iBAAxB,GAA4C,QAA5C;AAEA,SAAOT,MAAP;AACD","sourcesContent":["import { RefObject } from 'react';\nimport type { MenuTriggerState } from '@react-stately/menu';\nimport { useMenuTrigger as useMenuTriggerWeb } from '@react-aria/menu';\nimport { mapDomPropsToRN } from '@react-native-aria/utils';\n\ninterface MenuTriggerAriaProps {\n  /** The type of menu that the menu trigger opens. */\n  type?: 'menu' | 'listbox';\n}\n\ninterface MenuTriggerAria {\n  /** Props for the menu trigger element. */\n  menuTriggerProps: any;\n\n  /** Props for the menu. */\n  menuProps: any;\n}\n\n/**\n * Provides the behavior and accessibility implementation for a menu trigger.\n * @param props - Props for the menu trigger.\n * @param state - State for the menu trigger.\n */\nexport function useMenuTrigger(\n  props: MenuTriggerAriaProps,\n  state: MenuTriggerState,\n  ref: RefObject<HTMLElement>\n): MenuTriggerAria {\n  let params = useMenuTriggerWeb(props, state, ref);\n\n  // onKeyDown is not supported in Pressable so used onKeyDownCapture instead!\n  // https://github.com/necolas/react-native-web/issues/1862\n  //@ts-ignore\n  params.menuTriggerProps.onKeyDownCapture = params.menuTriggerProps.onKeyDown;\n  params.menuTriggerProps.onKeyDown = undefined;\n\n  // Todo - Debug - onPressStart doesn't work after these steps.\n  // 1. Use mouse clicks to open the trigger.\n  // 2. Try opening using spacebar/enter\n  params.menuTriggerProps.onPressStart = () => {};\n  params.menuTriggerProps.onPress = () => state.toggle('first');\n\n  params.menuProps = mapDomPropsToRN(params.menuProps);\n  params.menuTriggerProps = mapDomPropsToRN(params.menuTriggerProps);\n  // @ts-ignore - Get types for Universal apps\n  params.menuTriggerProps.accessibilityRole = 'button';\n\n  return params;\n}\n"]}